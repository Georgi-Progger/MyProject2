@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@using ProdASP.Models
@model AllViewPlace
<table>
    <tr>
        <th></th>
        <th>Флаг страны</th>
        <th>Страна</th>
        <th>Язык</th>
    </tr>
    @foreach (var i in Model.Country){
        <tr class="header expand">
            <td class="top" style="width: 5%;" ><span class="sign"></span>

        </td>
            <td class="top" ><img  src="@i.Image" width="100px" height="50px" /></td>
            <td class="top" style="width: 40%;">@i.NamePlace</td>
            <td class="top" style="width: 40%;">@i.Language</td>
        </tr>
        <tr>
            <td class="down" colspan="2"></td>
            <th colspan="2">Информация о стране</th>
        </tr>
        <tr>
            <td class="down" colspan="2"></td>
            <td class="info" colspan="2">@i.Information</td>
        </tr>
        <tr>
            <th class="down" colspan="2"></th>
            <th>Республики</th>
            <th>Язык республики</th>
        </tr>
        @foreach (var u in Model.Republic)
        {
            if (u.CountryName == Convert.ToString(i.Id) && u.CountryName != null)
            {
                <tr>
                    <th class="down" colspan="2"></th>
                    <td>@u.NamePlace</td>
                    <td>@u.Language</td>
                </tr>
            }
        }
        <tr>
            <th class="down2" colspan="2" rowspan="2"></th>
            <th>Города</th>
            <th>В какой республике</th>
        </tr>
        @foreach (var u in Model.City)
        {
            @if (u.RepubName == Convert.ToString(i.Id) && u.RepubName != null){
            <tr>
                <th class="down" colspan="2"></th>
                <td >@u.NamePlace</td>
                <td >@u.RepubName</td>
            </tr>
            }
        }
    }
    
</table>


@section scripts {
    <script>
        $('.header').click(function () {
            $(this).toggleClass('expand').nextUntil('tr.header').slideToggle(100);
        });
    </script>
}


    <style>
        .info{
            word-break: break-all;
        }
        .top{
            border-top : 3px solid black;
        }
        .down2{
            border-left : hidden!important;
        }
        .down{
            border-left : hidden!important;
            border-bottom : hidden!important;
        }
        table, tr, td, th {
            border: 1px solid black;
            border-collapse: collapse;
        }

        th{
            text-align: center;
        }

        tr.header {
                cursor: pointer;
            }

        .header .sign:after {
            content: "v";
            display: inline-block;
        }

        .header.expand .sign:after {
            content: ">";
        }
        
    </style>   
    

